@using VoloLinkApp.Areas.Identity.Data
@model VoloLinkUser
@{
    ViewData["Title"] = Model != null ? "Профіль волонтера" : "Гість";
}

@section Styles {
    <link rel="stylesheet" href="~/css/profile.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
}

<div class="profile-container">
    @if (Model == null)
    {
        <!-- Guest View -->
        <div class="guest-section">
            <div class="guest-content">
                <h1>Приєднуйтесь до нашої спільноти волонтерів!</h1>
                <p>Щоб отримати доступ до всіх можливостей платформи, будь ласка, увійдіть або зареєструйтесь.</p>
                <div class="guest-buttons">
                    <a href="@Url.Page("/Account/Register", new { area = "Identity" })" class="btn btn-primary">
                        <i class="fas fa-user-plus"></i> Зареєструватися
                    </a>
                    <a href="@Url.Page("/Account/Login", new { area = "Identity" })" class="btn btn-outline">
                        <i class="fas fa-sign-in-alt"></i> Увійти
                    </a>
                </div>
            </div>
        </div>
    }
    else
    {

        <div class="profile-layout">
            <!-- Left Side Menu -->
            <div class="side-menu">
                <div class="menu-header">
                    <div class="user-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <div class="user-info">
                        <h3>@Model.UserName</h3>
                        <span class="role-label @(ViewBag.IsVerifiedVolunteer ? "verified" : "")">
                            @(ViewBag.IsVerifiedVolunteer ? "Верифікований волонтер" : "Волонтер")
                        </span>
                    </div>
                 </div>
                

            <nav class="menu-items">
                    <!-- Common menu items -->
                    <a href="@Url.Action("Profile", "User")" class="menu-item active">
                        <i class="fas fa-user"></i>
                        <span>Мій профіль</span>
                    </a>
                    <a href="@Url.Action("Settings", "User")" class="menu-item">
                        <i class="fas fa-cog"></i>
                        <span>Налаштування профілю</span>
                    </a>
                    <a href="@Url.Action("MyEvents", "User")" class="menu-item">
                        <i class="fas fa-calendar-check"></i>
                        <span>Мої події</span>
                    </a>
                    <a href="@Url.Action("FindEvents", "User")" class="menu-item">
                        <i class="fas fa-search"></i>
                        <span>Знайти події</span>
                    </a>

                    @if (ViewBag.IsVerifiedVolunteer || User.IsInRole("Admin"))
                    {
                        <div class="menu-section">
                            <h4>Керування подіями</h4>
                            <a href="@Url.Action("Create", "Events")" class="menu-item">
                                <i class="fas fa-plus-circle"></i>
                                <span>Створити подію</span>
                            </a>
                        </div>
                    }

                    @if (User.IsInRole("Admin"))
                    {
                        <div class="menu-section">
                            <h4>Адміністрування</h4>
                            <a href="@Url.Action("VerifyUsers", "Admin")" class="menu-item">
                                <i class="fas fa-user-check"></i>
                                <span>Верифікація користувачів</span>
                            </a>
                            <a href="@Url.Action("ManageUsers", "Admin")" class="menu-item">
                                <i class="fas fa-users-cog"></i>
                                <span>Керування користувачами</span>
                            </a>
                        </div>
                    }
                </nav>
                
            </div>

          


        <!-- Volunteer Profile View -->
            <div class="main-content">
        <div class="profile-header">
            <div class="profile-avatar">
                <i class="fas fa-user-circle fa-4x"></i>
            </div>
            <div class="profile-info">
                <h1>@Model.UserName</h1>
                <span class="role-badge @(ViewBag.IsVerifiedVolunteer ? "verified" : "")">
                    @(ViewBag.IsVerifiedVolunteer ? "Верифікований волонтер" : "Волонтер")
                </span>
            </div>
        </div>

        <div class="profile-content">
            <div class="profile-section">
                <h2>Особиста інформація</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <i class="fas fa-envelope"></i>
                        <span>Email:</span>
                        <p>@Model.Email</p>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-phone"></i>
                        <span>Телефон:</span>
                        <p>@Model.PhoneNumber</p>
                    </div>
                </div>
            </div>

            <div class="profile-section">
                <h2>Волонтерська діяльність</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>Участь у подіях</h3>
                        <p>5</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clock"></i>
                        <h3>Годин волонтерства</h3>
                        <p>24</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-star"></i>
                        <h3>Рейтинг</h3>
                        <p>4.8</p>
                    </div>
                </div>
            </div>

            @if (ViewBag.IsVerifiedVolunteer)
            {
                <div class="profile-section">
                    <h2>Керування подіями</h2>
                    <div class="action-buttons">
                        <a href="@Url.Action("Create", "Events")" class="btn btn-primary">
                            <i class="fas fa-plus-circle"></i> Створити подію
                        </a>
                        <a href="@Url.Action("ManageEvents", "Events")" class="btn btn-outline">
                            <i class="fas fa-tasks"></i> Мої події
                        </a>
                    </div>
                </div>
            }
        </div>
            </div>
        </div>
    }
 </div>